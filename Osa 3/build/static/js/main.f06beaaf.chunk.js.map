{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","deleteButton","onClick","Persons","filteredPersons","map","person","id","Notification","message","status","className","baseUrl","axios","get","then","response","data","newObject","post","method","url","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setFilteredPersons","setMessage","messageStatus","setMessageStatus","useEffect","personService","initialPersons","event","target","filter","p","toLowerCase","includes","preventDefault","find","window","confirm","personToUpdate","changedPerson","returnedPerson","setTimeout","catch","error","console","log","concat","personToDelete","emptyPerson","ReactDOM","render","document","getElementById"],"mappings":"gMAUeA,EARA,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBAC5B,OACC,qDACmB,uBAAOC,MAAOF,EAAWG,SAAUF,QCazCG,EAhBI,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,UAAWC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,iBAAkBC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBACtE,OACC,uBAAMC,SAAUL,EAAhB,UACC,yCACO,uBAAOH,MAAOI,EAASH,SAAUI,OAExC,2CACS,uBAAOL,MAAOM,EAAWL,SAAUM,OAE5C,8BACC,wBAAQE,KAAK,SAAb,uBCFWC,EARA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAC/B,OACC,gCACEF,EADF,IACSC,EADT,IACiB,wBAAQE,QAASD,EAAjB,wBCSJE,EAXC,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,gBAAiBH,EAAmB,EAAnBA,aACnC,OAAOG,EAAgBC,KAAI,SAACC,GAAD,OAC1B,cAAC,EAAD,CAECP,KAAMO,EAAOP,KACbC,OAAQM,EAAON,OACfC,aAAc,kBAAMA,EAAaK,EAAOC,MAHnCD,EAAOP,UCIAS,EARM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OAChC,OAAgB,OAAZD,EACI,KAGD,qBAAKE,UAAWD,EAAhB,SAAyBD,K,gBCN3BG,EAAU,cA2BD,EAzBA,WAEd,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAuB7B,EApBA,SAACC,GAEf,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB7B,EAfE,SAACV,GAMjB,OALgBM,IAAM,CACrBO,OAAQ,SACRC,IAAKT,EAAU,IAAML,IAGPQ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAS7B,EANA,SAACV,EAAIW,GAEnB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBL,GAAMW,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SCyH7BM,EA1IH,WAAO,IAAD,EACaC,mBAAS,IADtB,mBACVC,EADU,KACDC,EADC,OAEaF,mBAAS,IAFtB,mBAEVhC,EAFU,KAEDmC,EAFC,OAGiBH,mBAAS,IAH1B,mBAGV9B,EAHU,KAGCkC,EAHD,OAIiBJ,mBAAS,IAJ1B,mBAIVtC,EAJU,KAIC2C,EAJD,OAK6BL,mBAAS,IALtC,mBAKVpB,EALU,KAKO0B,EALP,OAMaN,mBAAS,MANtB,mBAMVf,EANU,KAMDsB,EANC,OAOyBP,mBAAS,IAPlC,mBAOVQ,EAPU,KAOKC,EAPL,KAkEjBC,qBAAU,WACTC,IAAuBpB,MAAK,SAACqB,GAC5BV,EAAWU,QAEV,IAEHF,qBAAU,WACTJ,EAAmBL,KACjB,CAACA,IA2CJ,OACC,gCACC,2CACA,cAAC,EAAD,CAAchB,QAASA,EAASC,OAAQsB,IACxC,cAAC,EAAD,CAAQ9C,UAAWA,EAAWC,mBArCL,SAACkD,GAC3BR,EAAaQ,EAAMC,OAAOlD,OAE1B0C,EACCL,EAAQc,QAAO,SAACC,GAAD,OAAOA,EAAEzC,KAAK0C,cAAcC,SAASL,EAAMC,OAAOlD,MAAMqD,sBAmCvE,yCACA,cAAC,EAAD,CACClD,UApHe,SAAC8C,GAClBA,EAAMM,iBAEN,IAAMrC,EAAS,CACdP,KAAMP,EACNQ,OAAQN,GAGT,GAAI+B,EAAQmB,MAAK,SAACJ,GAAD,OAAOA,EAAEzC,OAASO,EAAOP,SACzC,GACC8C,OAAOC,QAAP,UACItD,EADJ,uEAGC,CACD,IAAMuD,EAAiBtB,EAAQmB,MAAK,SAACJ,GAAD,OAAOA,EAAEzC,OAASO,EAAOP,QACvDiD,EAAa,2BAAQD,GAAR,IAAwB/C,OAAQN,IAEnDyC,EACSY,EAAexC,GAAIyC,GAC1BjC,MAAK,SAACkC,GACNvB,EACCD,EAAQpB,KAAI,SAACC,GAAD,OACXA,EAAOC,KAAOwC,EAAexC,GAAKD,EAAS2C,MAI7ClB,EAAW,GAAD,OAAIvC,EAAJ,sBACVyC,EAAiB,WACjBiB,YAAW,WACVnB,EAAW,QACT,QAEHoB,OAAM,SAACC,GACPC,QAAQC,IAAI,UAAWF,GACvBrB,EAAW,GAAD,OAAIvC,EAAJ,8BACVyC,EAAiB,SACjBiB,YAAW,WACVnB,EAAW,QACT,cAINI,EAAqB7B,GAAQS,MAAK,SAACkC,GAClCvB,EAAWD,EAAQ8B,OAAON,OAG3BlB,EAAW,GAAD,OAAIvC,EAAJ,oBACVyC,EAAiB,WACjBiB,YAAW,WACVnB,EAAW,QACT,KAGJJ,EAAW,IACXC,EAAa,KA+DXpC,QAASA,EACTC,iBAnDsB,SAAC4C,GACzBV,EAAWU,EAAMC,OAAOlD,QAmDtBM,UAAWA,EACXC,mBAjDwB,SAAC0C,GAC3BT,EAAaS,EAAMC,OAAOlD,UAmDzB,yCACA,cAAC,EAAD,CAASgB,gBAAiBA,EAAiBH,aAzCxB,SAACM,GACrB,IAAMiD,EAAiB/B,EAAQmB,MAAK,SAACJ,GAAD,OAAOA,EAAEjC,KAAOA,KAAIR,KAEpD8C,OAAOC,QAAQ,iBAAmBU,EAAiB,MACtDrB,EACW5B,GACTQ,MAAK,SAAC0C,GACN/B,EAAWD,EAAQc,QAAO,SAACjC,GAAD,OAAYA,EAAOC,KAAOA,MACpDwB,EAAW,GAAD,OAAIyB,EAAJ,sBACVvB,EAAiB,WACjBiB,YAAW,WACVnB,EAAW,QACT,QAEHoB,OAAM,SAACC,GACPC,QAAQC,IAAI,UAAWF,GACvBrB,EAAW,GAAD,OAAIvC,EAAJ,8BACVyC,EAAiB,SACjBiB,YAAW,WACVnB,EAAW,QACT,e,MClHR2B,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.f06beaaf.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tFilter shown with <input value={newFilter} onChange={handleFilterChange} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<div>\r\n\t\t\t\tName: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tNumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({ name, number, deleteButton }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{name} {number} <button onClick={deleteButton}>Delete</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ filteredPersons, deleteButton }) => {\r\n\treturn filteredPersons.map((person) => (\r\n\t\t<Person\r\n\t\t\tkey={person.name}\r\n\t\t\tname={person.name}\r\n\t\t\tnumber={person.number}\r\n\t\t\tdeleteButton={() => deleteButton(person.id)}\r\n\t\t/>\r\n\t))\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, status }) => {\r\n\tif (message === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn <div className={status}>{message}</div>\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject)\r\n\treturn request.then((response) => response.data)\r\n}\r\n\r\nconst deleteId = (id) => {\r\n\tconst request = axios({\r\n\t\tmethod: 'DELETE',\r\n\t\turl: baseUrl + '/' + id\r\n\t})\r\n\r\n\treturn request.then((response) => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\r\n\treturn request.then((response) => response.data)\r\n}\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default { getAll, create, deleteId, update }\r\n","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/Persons'\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([])\r\n\tconst [newName, setNewName] = useState('')\r\n\tconst [newNumber, setNewNumber] = useState('')\r\n\tconst [newFilter, setNewFilter] = useState('')\r\n\tconst [filteredPersons, setFilteredPersons] = useState([])\r\n\tconst [message, setMessage] = useState(null)\r\n\tconst [messageStatus, setMessageStatus] = useState('')\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst person = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber\r\n\t\t}\r\n\r\n\t\tif (persons.find((p) => p.name === person.name)) {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${newName} is already added to phonebook, replace old number with a new one?`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tconst personToUpdate = persons.find((p) => p.name === person.name)\r\n\t\t\t\tconst changedPerson = { ...personToUpdate, number: newNumber }\r\n\r\n\t\t\t\tpersonService\r\n\t\t\t\t\t.update(personToUpdate.id, changedPerson)\r\n\t\t\t\t\t.then((returnedPerson) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id !== personToUpdate.id ? person : returnedPerson\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\tsetMessage(`${newName} has been updated`)\r\n\t\t\t\t\t\tsetMessageStatus('success')\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t\t\t}, 3000)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log('Error: ', error)\r\n\t\t\t\t\t\tsetMessage(`${newName} has already been deleted`)\r\n\t\t\t\t\t\tsetMessageStatus('error')\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t\t\t}, 3000)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tpersonService.create(person).then((returnedPerson) => {\r\n\t\t\t\tsetPersons(persons.concat(returnedPerson))\r\n\t\t\t})\r\n\r\n\t\t\tsetMessage(`${newName} has been added`)\r\n\t\t\tsetMessageStatus('success')\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetMessage(null)\r\n\t\t\t}, 3000)\r\n\t\t}\r\n\r\n\t\tsetNewName('')\r\n\t\tsetNewNumber('')\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonService.getAll().then((initialPersons) => {\r\n\t\t\tsetPersons(initialPersons)\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFilteredPersons(persons)\r\n\t}, [persons])\r\n\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t}\r\n\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\r\n\tconst handleFilterChange = (event) => {\r\n\t\tsetNewFilter(event.target.value)\r\n\r\n\t\tsetFilteredPersons(\r\n\t\t\tpersons.filter((p) => p.name.toLowerCase().includes(event.target.value.toLowerCase()))\r\n\t\t)\r\n\t}\r\n\r\n\tconst deletePerson = (id) => {\r\n\t\tconst personToDelete = persons.find((p) => p.id === id).name\r\n\r\n\t\tif (window.confirm('Really delete ' + personToDelete + '?')) {\r\n\t\t\tpersonService\r\n\t\t\t\t.deleteId(id)\r\n\t\t\t\t.then((emptyPerson) => {\r\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id))\r\n\t\t\t\t\tsetMessage(`${personToDelete} has been deleted`)\r\n\t\t\t\t\tsetMessageStatus('success')\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t\t}, 3000)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log('Error: ', error)\r\n\t\t\t\t\tsetMessage(`${newName} has already been deleted`)\r\n\t\t\t\t\tsetMessageStatus('error')\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t\t}, 3000)\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={message} status={messageStatus} />\r\n\t\t\t<Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n\r\n\t\t\t<h2>Add new</h2>\r\n\t\t\t<PersonForm\r\n\t\t\t\taddPerson={addPerson}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons filteredPersons={filteredPersons} deleteButton={deletePerson} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}